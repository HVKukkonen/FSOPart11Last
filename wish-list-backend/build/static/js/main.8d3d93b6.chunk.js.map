{"version":3,"sources":["api/services/wishes.js","utils/error_handlers/user_error_handler.js","api/services/users.js","utils/error_handlers/login_error_handler.js","api/services/login.js","components/app/App.js","index.js","utils/logger.js"],"names":["baseUrl","BackendWish","wisher","axios","get","newObject","post","id","put","delete","logger","require","userErrorHandler","error","message","response","data","keyword","window","alert","BackendUser","then","catch","exception","BackendLogin","userInfo","bcryptjs","generatePassword","WishForm","props","onSubmit","addWish","className","value","nameHolder","onChange","nameHandler","descriptionHolder","descriptionHandler","urlHolder","urlHandler","type","RegisterForm","loginFormAction","usernameHolder","usernameHandler","passwordHolder","passwordHandler","inviteHolder","inviteHandler","LoginForm","createUser","username","password","role","linkedUsers","style","invitePass","wish","dbID","key","Display","text","FormatRow","functionality","buttonname","hoverFunction","showTaken","taken","name","onMouseOver","description","href","url","target","onClick","LogOutButton","setUser","localStorage","clear","ToAdminButton","setWisher","editTitleButton","editable","toggleAndSave","App","illegalRegex","useState","setUsername","charEvent","search","setPassword","setInvite","loginView","setLoginView","registerFormSubmission","event","a","preventDefault","length","title","adminSecret","newUser","inviteAsList","split","wisherId","compare","generate","loggedUser","logUser","setToken","useEffect","userJSON","getItem","tokenJSON","JSON","parse","loginFormSubmission","inputUser","user","token","setItem","stringify","setUserAsWisher","userid","editTitle","setEdit","document","querySelector","innerText","updated","wishes","setWishes","delWish","newWishes","filter","users","setUsers","delUser","newUsers","setName","setDescription","setUrl","formSubmitHandler","taker","dbId","createWish","concat","console","log","take","map","displayText","setDisplay","timeoutId","setTimeoutId","clearTimeout","setTimeout","path","to","showWishes","UserRow","Object","keys","toWisher","toSanta","Instructions","element","invite","generateInvite","WishCreator","contentEditable","ReactDOM","render","getElementById","module","exports","info"],"mappings":"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","file":"static/js/main.8d3d93b6.chunk.js","sourcesContent":["/* eslint import/prefer-default-export: 0 */\r\nimport axios from 'axios';\r\n\r\nlet baseUrl = '/api/wishes';\r\nif (process.env.NODE_ENV === 'development') {\r\n  baseUrl = 'http://localhost:3003/api/wishes';\r\n}\r\n\r\n// send wisher (maybe different than user) as request to backend\r\nconst getForWisher = (wisher) => axios.get(`${baseUrl}/${wisher}`);\r\n\r\nconst create = (newObject) => axios.post(baseUrl, newObject);\r\n\r\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject);\r\n\r\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`);\r\n\r\n// package backend methods and export\r\nconst BackendWish = {\r\n  getForWisher, create, update, remove,\r\n};\r\nexport { BackendWish };\r\n","const logger = require('../logger');\r\n\r\nexport default function userErrorHandler(error) {\r\n  logger.error('following error occured', error.message);\r\n  // logger.error('FRONT response.data is', error.response.data);\r\n\r\n  if (error.response.data.keyword === 'username') {\r\n    window.alert('Username not unique');\r\n  }\r\n\r\n  if (error.response.data.keyword === 'invite') {\r\n    window.alert('Invalid invite');\r\n  }\r\n}\r\n","/* eslint import/prefer-default-export: 0 */\r\nimport axios from 'axios';\r\nimport userErrorHandler from '../../utils/error_handlers/user_error_handler';\r\n\r\nlet baseUrl = '/api/users';\r\nif (process.env.NODE_ENV === 'development') {\r\n  baseUrl = `http://localhost:3003${baseUrl}`;\r\n}\r\n\r\nconst getAll = () => axios.get(baseUrl)\r\n  .then((response) => response.data);\r\n\r\nconst create = (newObject) => axios\r\n  .post(baseUrl, newObject)\r\n  .catch((exception) => {\r\n    // custom error handling\r\n    userErrorHandler(exception);\r\n  });\r\n\r\nconst update = (id, newObject) => axios.put(`${baseUrl}/${id}`, newObject)\r\n  .then((response) => response.data);\r\n\r\nconst remove = (id) => axios.delete(`${baseUrl}/${id}`);\r\n\r\nconst getOne = (id) => axios.get(`${baseUrl}/${id}`)\r\n  .then((response) => response.data)\r\n  .catch((exception) => userErrorHandler(exception));\r\n\r\n// package backend methods and export\r\nconst BackendUser = {\r\n  getAll, create, update, remove, getOne,\r\n};\r\nexport { BackendUser };\r\n","const logger = require('../logger');\r\n\r\nexport default function loginErrorHandler(error) {\r\n  logger.error('following error occured', error.message);\r\n\r\n  if (error.response.data.keyword === 'admin') {\r\n    window.alert('Admin secret is incorrect');\r\n  }\r\n\r\n  if (error.response.data.keyword === 'password') {\r\n    window.alert('Incorrect username or password');\r\n  }\r\n}\r\n","/* eslint import/prefer-default-export: 0 */\r\nimport axios from 'axios';\r\nimport loginErrorHandler from '../../utils/error_handlers/login_error_handler';\r\n\r\nlet baseUrl = '/api/login';\r\nif (process.env.NODE_ENV === 'development') {\r\n  baseUrl = `http://localhost:3003${baseUrl}`;\r\n}\r\n\r\nconst requestToken = (userInfo) => axios\r\n  .post(baseUrl, userInfo)\r\n  .catch((exception) => loginErrorHandler(exception));\r\n\r\nconst BackendLogin = { requestToken };\r\nexport { BackendLogin };\r\n","/* eslint consistent-return:0 */\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport {\r\n  BrowserRouter, Switch, Route, Link, Redirect,\r\n} from 'react-router-dom';\r\nimport { BackendWish } from '../../api/services/wishes';\r\nimport { BackendUser } from '../../api/services/users';\r\nimport { BackendLogin } from '../../api/services/login';\r\nimport './App.css';\r\nimport 'jquery';\r\n\r\nconst bcryptjs = require('bcryptjs');\r\nconst generatePassword = require('generate-password');\r\n\r\n// --------------------------- form (visible: WISHER) -------------------------------------\r\nconst WishForm = (props) => <form onSubmit={props.addWish}>\r\n  <div>\r\n    <h2 className='other-title'>Add wish</h2>\r\n    name:{'\\xa0'}\r\n    <input\r\n      value={props.nameHolder}\r\n      onChange={props.nameHandler}\r\n    />\r\n    <br />\r\n    description:{'\\xa0'}\r\n    <input\r\n      value={props.descriptionHolder}\r\n      onChange={props.descriptionHandler}\r\n    />\r\n    <br />\r\n    url:{'\\xa0'}\r\n    <input\r\n      value={props.urlHolder}\r\n      onChange={props.urlHandler}\r\n    />\r\n  </div>\r\n  <div>\r\n    <button type='submit'>\r\n      Add\r\n    </button>\r\n  </div>\r\n</form>;\r\n// -------------------------------------------------------------------------------------------\r\n\r\n// registering form\r\nconst RegisterForm = (props) => <form onSubmit={props.loginFormAction}>\r\n  username:{'\\xa0'}\r\n  <input\r\n    value={props.usernameHolder}\r\n    onChange={props.usernameHandler}\r\n  />\r\n  <br />\r\n  password:{'\\xa0'}\r\n  <input\r\n    value={props.passwordHolder}\r\n    onChange={props.passwordHandler}\r\n  />\r\n  <br />\r\n  invite:{'\\xa0'}\r\n  <input\r\n    value={props.inviteHolder}\r\n    onChange={props.inviteHandler}\r\n  />\r\n  <br />\r\n  <button type='submit'>\r\n    Submit\r\n  </button>\r\n</form>;\r\n\r\n// login form\r\nconst LoginForm = (props) => <form onSubmit={props.loginFormAction}>\r\n  username:{'\\xa0'}\r\n  <input\r\n    value={props.usernameHolder}\r\n    onChange={props.usernameHandler}\r\n  />\r\n  <br />\r\n  password:{'\\xa0'}\r\n  <input\r\n    value={props.passwordHolder}\r\n    onChange={props.passwordHandler}\r\n  />\r\n  <br />\r\n  <button type='submit'>\r\n    Submit\r\n  </button>\r\n</form>;\r\n\r\n// wish object creator, handles creation of new wishes and wishes from database query\r\nconst createWish = (name, description, url, taken, wisher, taker, dbId) => {\r\n  // use mongodb id for existing wishes, generate one for new; for DEV with dummy data only\r\n  // const id = dbId || Math.random();\r\n\r\n  // shorthand for name: name\r\n  const wish = {\r\n    key: dbId,\r\n    id: dbId,\r\n    name,\r\n    description,\r\n    url,\r\n    taken,\r\n    wisher,\r\n    taker,\r\n  };\r\n\r\n  return wish;\r\n};\r\n\r\nconst createUser = (username, password, role, linkedUsers, style, invitePass, wish, dbID) => {\r\n  const user = {\r\n    key: dbID,\r\n    id: dbID,\r\n    username,\r\n    password,\r\n    role,\r\n    style,\r\n    linkedUsers,\r\n    invitePass,\r\n    wish,\r\n  };\r\n\r\n  return user;\r\n};\r\n\r\n// generate invite string for wisher that enables inviting Santa(s)\r\n// invite string is of form 'invitePasswordHash/wisher_dbID'\r\nconst generateInvite = (wisher) => {\r\n  const invite = `${wisher.invitePass}/${wisher.id}`;\r\n  window.alert(`Your invite is ${invite}`);\r\n};\r\n\r\n// --------------------------- table (visible: ALL) -------------------------------------------\r\n// display entire cell content, used in mouseover for long text items\r\nconst Display = (text) => <div className='display'>\r\n  {text.text}\r\n</div>;\r\n\r\n// formats wish item into data row, different formatting based on taken status\r\nconst FormatRow = (wish, functionality, buttonname, hoverFunction, showTaken) => <tr className={(wish.taken === 1 && showTaken) ? 'taken-row' : 'untaken-row'}>\r\n  <td>{wish.name}</td>\r\n  <td onMouseOver={() => hoverFunction(wish.description)}>{wish.description}</td>\r\n  <td className='url'><a href={wish.url} target='_blank'>{wish.url}</a></td>\r\n  <td><button onClick={() => functionality(wish.id)}>{buttonname}</button></td>\r\n</tr>;\r\n// ----------------------------------------------------------------------------------------------\r\n\r\n// display user for admin view\r\nconst UserRow = (user, functionality, showWishes) => <tr className='untaken-row'>\r\n  <td>{user.username}</td>\r\n  <td><button onClick={() => functionality(user.id)}>delete</button></td>\r\n  {user.role === 1 ? <td><button onClick={() => showWishes(user.id)}>wishes</button></td> : null}\r\n</tr>;\r\n\r\n// logout\r\nconst LogOutButton = (setUser) => {\r\n  const logOut = () => {\r\n    // clear session credentials\r\n    window.localStorage.clear();\r\n    setUser({});\r\n  };\r\n\r\n  return <button onClick={() => logOut()}>Log out</button>;\r\n};\r\n\r\n// return to admin\r\nconst ToAdminButton = (setWisher) => {\r\n  // reset wisher and redirect\r\n  const resetWisher = () => {\r\n    setWisher({});\r\n    // not coming through\r\n    // return <Redirect to='../admin' />;\r\n  };\r\n\r\n  return <button onClick={() => resetWisher()}>Admin</button>;\r\n};\r\n\r\n// toggle title editing\r\nconst editTitleButton = (editable, toggleAndSave) => <button\r\n  onClick={() => toggleAndSave()}>\r\n  {editable ? 'save' : 'edit'}\r\n</button>;\r\n\r\nconst App = () => {\r\n  // for sanitising user input\r\n  const illegalRegex = /[^A-Za-z0-9/]/;\r\n  // -------------------------------------user creation & log in-----------------\r\n  // login/register form handling\r\n  const [usernameHolder, setUsername] = useState('');\r\n  const usernameHandler = (charEvent) => {\r\n    // sanitise by allowing only normal characters & numbers\r\n    if (charEvent.target.value.search(illegalRegex) >= 0) {\r\n      window.alert('Input contains illegal symbols. Only characters and numbers allowed.');\r\n    } else {\r\n      setUsername(charEvent.target.value);\r\n    }\r\n  };\r\n\r\n  const [passwordHolder, setPassword] = useState('');\r\n  const passwordHandler = (charEvent) => {\r\n    // sanitise by allowing only normal characters & numbers\r\n    if (charEvent.target.value.search(illegalRegex) >= 0) {\r\n      window.alert('Input contains illegal symbols. Only characters, numbers, and slashes allowed.');\r\n    } else {\r\n      setPassword(charEvent.target.value);\r\n    }\r\n  };\r\n\r\n  const [inviteHolder, setInvite] = useState('');\r\n  const inviteHandler = (charEvent) => {\r\n    // sanitise by allowing only normal characters & numbers\r\n    if (charEvent.target.value.search(illegalRegex) >= 0) {\r\n      window.alert('Input contains illegal symbols. Only characters and numbers allowed.');\r\n    } else {\r\n      setInvite(charEvent.target.value);\r\n    }\r\n  };\r\n\r\n  // switch for changing between login and register, default login\r\n  const [loginView, setLoginView] = useState(1);\r\n\r\n  // registration form submit\r\n  const registerFormSubmission = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // check correct password/username length\r\n    if (passwordHolder.length < 1 || usernameHolder.length < 1) {\r\n      window.alert('Please, provide username and password');\r\n      return;\r\n    }\r\n\r\n    let newUser;\r\n    // json object specifying style elements, only for wisher\r\n    const style = {\r\n      title: 'Christmas Wish List',\r\n    };\r\n\r\n    // parse wisher from invite string\r\n    // invite string is of form 'invitePasswordHash/wisher_dbID\r\n    if (inviteHolder) {\r\n      // admin creation\r\n      if (usernameHolder === 'admin') {\r\n        // verify creation through password api\r\n        if (await BackendLogin.requestToken({ adminSecret: inviteHolder })) {\r\n          newUser = await BackendUser\r\n            .create(createUser(usernameHolder, passwordHolder, 0));\r\n          if (newUser) {\r\n            setLoginView(1);\r\n          }\r\n        } else {\r\n          window.alert('admin is not allowed as a username');\r\n        }\r\n        return;\r\n      }\r\n\r\n      // santa creation\r\n      let inviteAsList;\r\n      try {\r\n        inviteAsList = inviteHolder.split('/');\r\n      } catch (exception) {\r\n        window.alert('Invite not in correct format');\r\n        return; // exit\r\n      }\r\n\r\n      // check correct invite form\r\n      if (inviteAsList.length !== 2) {\r\n        window.alert('Invite not in correct format');\r\n        return; // exit\r\n      }\r\n\r\n      const wisherId = inviteAsList[1];\r\n      const wisher = await BackendUser.getOne(wisherId);\r\n\r\n      // check invite validity\r\n      if (wisher && bcryptjs.compare(inviteAsList[0], wisher.invitePass)) {\r\n        // format input into proper object, update backend, save received object\r\n        // invited user is always Santa linked to wisher, wish & inviteHash don't exist\r\n        newUser = await BackendUser\r\n          .create(createUser(usernameHolder, passwordHolder, 2, wisherId));\r\n      } else {\r\n        window.alert('error: invalid invite');\r\n      }\r\n    } else {\r\n      // no invite string input --> generate wisher\r\n      const invitePass = generatePassword.generate();\r\n      newUser = await BackendUser\r\n        .create(createUser(usernameHolder, passwordHolder, 1, null, style, invitePass));\r\n    }\r\n\r\n    // redirect after successful registering\r\n    if (newUser) {\r\n      // redirect to login after registering\r\n      setLoginView(1);\r\n      // window.location = '../login';\r\n    }\r\n  };\r\n\r\n  // logged in user\r\n  const [loggedUser, logUser] = useState({});\r\n  const [token, setToken] = useState(''); /* eslint no-unused-vars:0 */\r\n\r\n  // log user in using session\r\n  useEffect(() => {\r\n    const userJSON = window.localStorage.getItem('user');\r\n    const tokenJSON = window.localStorage.getItem('token');\r\n    if (userJSON) {\r\n      logUser(JSON.parse(userJSON));\r\n      setToken(JSON.parse(tokenJSON));\r\n    }\r\n  }, []);\r\n\r\n  // login form submit\r\n  const loginFormSubmission = async (event) => {\r\n    event.preventDefault();\r\n\r\n    // format input into proper object\r\n    const inputUser = {\r\n      username: usernameHolder,\r\n      password: passwordHolder,\r\n    };\r\n\r\n    // send to login backend, receive user and token if valid\r\n    const response = await BackendLogin.requestToken(inputUser);\r\n    if (response) {\r\n      logUser(response.data.user);\r\n      setToken(response.data.token);\r\n      // remember session\r\n      window.localStorage.setItem('user', JSON.stringify(response.data.user));\r\n      window.localStorage.setItem('token', JSON.stringify(response.data.user));\r\n\r\n      // clear form\r\n      setUsername(''); setPassword('');\r\n    }\r\n  };\r\n\r\n  // wisher for showing relevant wishes\r\n  const [wisher, setWisher] = useState({});\r\n\r\n  // set the given user as wisher,\r\n  // needed for cases where wisher is not the user logged in\r\n  const setUserAsWisher = async (userid) => setWisher(await BackendUser.getOne(userid));\r\n\r\n  // load wisher information from server\r\n  useEffect(() => {\r\n    // logged in user is wisher\r\n    if (loggedUser.role === 1) {\r\n      setWisher(loggedUser);\r\n    } else if (loggedUser.role === 2) {\r\n      // logged in user is Santa\r\n      setUserAsWisher(loggedUser.linkedUsers);\r\n    }\r\n  }, [loggedUser]); // run effect after login\r\n\r\n  // toggle title editing\r\n  const [editTitle, setEdit] = useState(false);\r\n\r\n  // toggle editability and save after edit\r\n  const toggleAndSave = async () => {\r\n    // save only if title has been editable\r\n    if (editTitle) {\r\n      const title = document.querySelector('.main-title').innerText;\r\n      const updated = wisher;\r\n      updated.style.title = title;\r\n      setWisher(await BackendUser.update(wisher.id, updated));\r\n    }\r\n\r\n    setEdit(!editTitle);\r\n  };\r\n\r\n  // ----------------------------------------------WISHES---------------------------\r\n  // state hook\r\n  const [wishes, setWishes] = useState([]);\r\n\r\n  // event hook for loading data from server\r\n  useEffect(async () => {\r\n    // fetch wishes only if wisher exists\r\n    if (wisher && wisher.username && wisher.username.length > 0) {\r\n      const response = await BackendWish\r\n        .getForWisher(wisher.id); // get only wishes of the wisher\r\n      // .then((response) => setWishes(response)); // save the response of the promise\r\n      setWishes(response.data);\r\n    }\r\n  }, [wisher]); // run effect as wisher changed, i.e. after login\r\n\r\n  // ------------------------------- WISHER -----------------------------\r\n  // event handler for deleting wish from front- and backend\r\n  const delWish = (id) => {\r\n    // frontend\r\n    const newWishes = wishes.filter((wish) => wish.id !== id);\r\n    setWishes(newWishes);\r\n    // backend\r\n    BackendWish.remove(id);\r\n  };\r\n\r\n  // ----------------------------- ADMIN view\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(async () => {\r\n    // fetch users only for admin\r\n    if (loggedUser.role === 0) {\r\n      setUsers(await BackendUser.getAll());\r\n    }\r\n  }, [loggedUser]);\r\n\r\n  // event handler for deleting user\r\n  const delUser = (id) => {\r\n    // frontend\r\n    const newUsers = users.filter((user) => user.id !== id);\r\n    setUsers(newUsers);\r\n    // backend\r\n    BackendUser.remove(id);\r\n  };\r\n\r\n  // state hooks and input event handlers for wish form input\r\n  // name\r\n  const [nameHolder, setName] = useState('');\r\n  const nameHandler = (charEvent) => setName(charEvent.target.value);\r\n  // description\r\n  const [descriptionHolder, setDescription] = useState('');\r\n  const descriptionHandler = (charEvent) => setDescription(charEvent.target.value);\r\n  // url\r\n  const [urlHolder, setUrl] = useState('');\r\n  const urlHandler = (charEvent) => setUrl(charEvent.target.value);\r\n\r\n  // form submission handling\r\n  const formSubmitHandler = (event) => {\r\n    // prevent default form submission\r\n    event.preventDefault();\r\n\r\n    // format input into proper object, update backend\r\n    BackendWish\r\n      .create(createWish(nameHolder, descriptionHolder, urlHolder, 0, wisher.id))\r\n      // concat returned object to wishes, return object has id given by the db\r\n      .then((response) => setWishes(wishes.concat(response.data)));\r\n\r\n    console.log('latest wish not for console?', wishes);\r\n    // reset input fields\r\n    setName(''); setDescription(''); setUrl('');\r\n  };\r\n\r\n  // ---------------------------- Santa Claus ---------------------\r\n  // event handler for changing taken status\r\n  const take = (id) => {\r\n    const taker = (wish) => {\r\n      // user can only take untaken and untake her own\r\n      if (wish.id === id && (wish.taken === 0 || wish.taker === loggedUser.id)) {\r\n        // flip taken status indicator\r\n        wish.taken = 1 - wish.taken;\r\n        // reset taker for taken, insert for untaken\r\n        wish.taker = (wish.taker) ? null : loggedUser.id;\r\n        BackendWish.update(id, wish); // backend\r\n      }\r\n      return (wish);\r\n    };\r\n\r\n    setWishes(wishes.map((wish) => taker(wish)));\r\n  };\r\n\r\n  // display text for long text items\r\n  const [displayText, setDisplay] = useState('');\r\n\r\n  // timeout id state hook for cancelling display removal\r\n  const [timeoutId, setTimeoutId] = useState('');\r\n\r\n  const hoverFunction = (text) => {\r\n    // clear last timeout if one exists to display properly\r\n    clearTimeout(timeoutId);\r\n    setDisplay(text);\r\n    // remove text after timeout, enable cancelling this action\r\n    setTimeoutId(setTimeout(() => setDisplay(''), 10000));\r\n  };\r\n\r\n  // login page conditionally redirects already logged users based on their role\r\n  const LoginPage = () => {\r\n    // if user loggedin redirect\r\n    if (loggedUser.username && loggedUser.username.length > 0) {\r\n      // wisher\r\n      if (loggedUser.role === 1) {\r\n        return <Redirect to='../wisher' />;\r\n      }\r\n      // santa\r\n      if (loggedUser.role === 2) {\r\n        return <Redirect to='../' />;\r\n      }\r\n      // admin\r\n      if (loggedUser.role === 0) {\r\n        return <Redirect to='../admin' />;\r\n      }\r\n    } else {\r\n      return <div>\r\n        <button onClick={() => setLoginView(0)}>Register</button>\r\n        <h2 className='other-title'>Login</h2>\r\n        <LoginForm\r\n          loginFormAction={loginFormSubmission}\r\n          usernameHolder={usernameHolder}\r\n          usernameHandler={usernameHandler}\r\n          passwordHolder={passwordHolder}\r\n          passwordHandler={passwordHandler}\r\n        />\r\n        <aside className='instructions'>\r\n          This is the log in page. To create a new user, please,\r\n          navigate to the registration page on the top left corner.</aside>\r\n      </div>;\r\n    }\r\n  };\r\n\r\n  const RegisterPage = () => <div>\r\n    <button onClick={() => setLoginView(1)}>Login</button>\r\n    <h2 className='other-title'>Register</h2>\r\n    <RegisterForm\r\n      loginFormAction={registerFormSubmission}\r\n      usernameHolder={usernameHolder}\r\n      usernameHandler={usernameHandler}\r\n      passwordHolder={passwordHolder}\r\n      passwordHandler={passwordHandler}\r\n      inviteHolder={inviteHolder}\r\n      inviteHandler={inviteHandler}\r\n    />\r\n    <aside className='instructions'>Here you can register. There are two kinds of users;\r\n    the ones making the wishes (1) and the ones fulfilling them (2). Let's call them types 1 and 2,\r\n    respectively. The creation of a type 2 user requires an invite from a type 1 user.\r\n    If no invite is provided, a user of type 1 is created. </aside>\r\n  </div>;\r\n\r\n  // functional component returning wish form\r\n  const WishCreator = () => {\r\n    // // redirect unlogged users\r\n    // if (!loggedUser.username || loggedUser.username.length < 1) {\r\n    //   return <Redirect to='../login' />;\r\n    // }\r\n\r\n    // // redirect santa\r\n    // if (loggedUser.role === 2) {\r\n    //   return <Redirect to='../' />;\r\n    // }\r\n\r\n    // // redirect admin\r\n    // if (loggedUser.role === 0 && !wisher) {\r\n    //   console.log('wisher redirects to admin for wisher', wisher);\r\n    //   return <Redirect to='../admin' />;\r\n    // }\r\n\r\n    const element = <div>\r\n      <h2 className='other-title'>Generate invite link</h2>\r\n      <button onClick={() => generateInvite(loggedUser)}>Invite</button>\r\n      <WishForm\r\n        addWish={formSubmitHandler}\r\n        nameHolder={nameHolder}\r\n        nameHandler={nameHandler}\r\n        descriptionHandler={descriptionHandler}\r\n        descriptionHolder={descriptionHolder}\r\n        urlHandler={urlHandler}\r\n        urlHolder={urlHolder}\r\n      />\r\n    </div>;\r\n\r\n    return loggedUser.role === 1 ? element : null;\r\n  };\r\n\r\n  const Redirects = () => {\r\n    // redirect unlogged users\r\n    if (!loggedUser.username || loggedUser.username.length < 1) {\r\n      return <Redirect to='../login' />;\r\n    }\r\n\r\n    // return admin to correct page after button pressed\r\n    if (loggedUser.role === 0 && Object.keys(wisher).length === 0) {\r\n      return <Redirect to='../admin' />;\r\n    }\r\n  };\r\n\r\n  const AdminPage = () => {\r\n    // redirect unlogged users\r\n    if (!loggedUser.username || loggedUser.username.length < 1) {\r\n      return <Redirect to='../login' />;\r\n    }\r\n\r\n    // redirect santa\r\n    if (loggedUser.role === 2) {\r\n      return <Redirect to='../' />;\r\n    }\r\n\r\n    // redirect wisher\r\n    if (loggedUser.role === 1) {\r\n      return <Redirect to='../wisher' />;\r\n    }\r\n\r\n    // redirect admin to see wishes after wisher set\r\n    if (wisher && wisher.username) {\r\n      return <Redirect to='../' />;\r\n    }\r\n\r\n    const page = <div>\r\n      {LogOutButton(logUser)}\r\n      <table className='the-table'>\r\n        <thead>\r\n          <tr>\r\n            <th>User</th>\r\n            <th>Delete</th>\r\n            <th>Wishes</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map((user) => UserRow(user, delUser, setUserAsWisher))}\r\n        </tbody>\r\n      </table>\r\n    </div>;\r\n\r\n    // users grouped by wisher\r\n    return page;\r\n  };\r\n\r\n  const MainTitle = () => <h1>\r\n    <span\r\n      className='main-title'\r\n      contentEditable={editTitle}\r\n    >\r\n      {wisher.style.title}\r\n    </span>\r\n    {loggedUser.role === 1 ? editTitleButton(editTitle, toggleAndSave) : null}\r\n  </h1>;\r\n\r\n  const Instructions = () => {\r\n    const toWisher = <aside className='instructions'>\r\n      \"Generate invite link\" creates the invite needed to add type 2 users.\r\n      To add a user, send her the invite and instruct to provide it at registration.\r\n       Please, note that all users use the same invite. <br />\r\n      The form enables adding wishes. All users created using the invite\r\n      will be able to see the table below but not modify the wishes. They can claim wishes but\r\n       you won't be shown what is claimed. Also, don't worry about descriptions being too lengthy.\r\n       They are displayed in full to your type 2 users. Note that you can customise the table header\r\n       that is displayed to your type 2 users.\r\n    </aside>;\r\n\r\n    const toSanta = <aside className='instructions'>\r\n      Use the buttons to indicate the wishes you wish to fulfill. Don't worry,\r\n       this information is not visible to the wisher.\r\n       You can hover over lenghty descriptions to display them in full.\r\n    </aside>;\r\n\r\n    if (loggedUser.role === 1) {\r\n      return toWisher;\r\n    }\r\n\r\n    if (loggedUser.role === 2) {\r\n      return toSanta;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <div>\r\n        <Switch>\r\n          <Route path='/admin'>\r\n            {AdminPage()}\r\n          </Route>\r\n          <Route path='/login'>\r\n            {loginView === 1 ? LoginPage() : RegisterPage()}\r\n          </Route>\r\n          <Route path='/'>\r\n            {Redirects()}\r\n            {LogOutButton(logUser)}\r\n            {Instructions()}\r\n            {WishCreator()}\r\n            {loggedUser.role === 0 ? ToAdminButton(setWisher) : null}\r\n            {Object.keys(wisher).length > 0 ? MainTitle() : null}\r\n            <table className='the-table'>\r\n              <thead>\r\n                <tr>\r\n                  <th>Name</th>\r\n                  <th>Description</th>\r\n                  <th>URL</th>\r\n                  <th>Function</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <Switch>\r\n                  <Route path='/wisher'>\r\n                    {wishes.map((wish) => FormatRow(wish, delWish, 'delete', setDisplay, loggedUser.role !== 1))}\r\n                  </Route>\r\n                  <Route path='/'>\r\n                    {wishes.map((wish) => FormatRow(wish, take, (wish.taken === 0) ? 'take' : 'untake', hoverFunction, loggedUser.role !== 1))}\r\n                  </Route>\r\n                </Switch>\r\n              </tbody>\r\n            </table>\r\n            <Switch>\r\n              <Route path='/wisher'></Route>\r\n              <Route path='/'>\r\n                <Display text={displayText}></Display>\r\n              </Route>\r\n            </Switch>\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","// TITLE: starting point for the app\r\n\r\nimport ReactDOM from 'react-dom';\r\n// import React from 'react';\r\n// import { render } from '@testing-library/react'\r\nimport App from './components/app/App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n","// TITLE: middleware for logging\r\n\r\nconst info = (...params) => {\r\n  console.log(...params);\r\n};\r\n\r\nconst error = (...params) => {\r\n  console.error(...params);\r\n};\r\n\r\nmodule.exports = {\r\n  info, error,\r\n};\r\n"],"sourceRoot":""}